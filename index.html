<!DOCTYPE html>
<html ng-app="myApp">
    <head>
        <title>Wedding of Nikolay and Elena</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <meta name="viewport" content="width=device-width,minimum-scale=1.0"/>
    </head>
    <body ng-controller="locationController">
        <div class="content" ng-if="person.name">
            <div class="text">
                <div ng-switch on="person.sex">
                    <div class="h" ng-switch-when="male">Дорогой {{person.name}}!</div>
                    <div class="h" ng-switch-when="female">Дорогая {{person.name}}!</div>
                    <div class="h" ng-switch-when="some">Дорогие {{person.name}}!</div><br>
                    <div>Приглашаем 
                    <span ng-switch-when="male">Тебя</span>
                    <span ng-switch-when="female">Тебя</span>
                    <span ng-switch-when="some">Вас</span> на торжество<br>
                    посвящённое нашему бракосочетанию<br>
                    которое состоится <div class="date">11 Августа</div>
                </div>
                в отеле <a class="site" href="http://www.hotelmilan.ru" target="_blank">Милан</a></div>
                <br>
                <br>
                <br>
                <div>Сбор гостей с 17:00 до 18:00</div><br>
                <br>
                <br>
                <br>    
                <div class="map">АДРЕС:</div>
                <a class="map" href="https://yandex.ru/maps/-/CBQLjVgfDB" target="_blank">
                    <span>115563, Г. МОСКВА,</span><br>
                    <span>УЛ. ШИПИЛОВСКАЯ, Д. 28А</span><br>
                    <span>М.ДОМОДЕДОВСКАЯ</span>
                </a> 
            </div>      
        </div>
        <div class="exception" ng-if="!person.name">
            Увы, так не работает, надо копировать исходную ссылку :(
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
        <script>
            
            var myApp=angular.module('myApp', []);
            myApp.controller("locationController", function($scope, $location){
                $scope.person = $location.search();
                $location.url($location.path());
                });
            myApp.config(['$locationProvider', function($locationProvider) {
                $locationProvider.hashPrefix('');
            }]);
            
         </script>
    </body>
</html>
